<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AppEKG: appekg.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AppEKG
   &#160;<span id="projectnumber">1</span>
   </div>
   <div id="projectbrief">Heartbeat Instrumentation Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">appekg.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>AppEKG Implementation.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;inttypes.h&gt;</code><br />
<code>#include &lt;pthread.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;sys/stat.h&gt;</code><br />
<code>#include &lt;sys/time.h&gt;</code><br />
<code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &lt;sys/utsname.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &quot;<a class="el" href="appekg_8h_source.html">appekg.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="csvoutput_8c.html">csvoutput.c</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ldmsoutput_8c.html">ldmsoutput.c</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sqliteoutput_8c.html">sqliteoutput.c</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for appekg.c:</div>
<div class="dyncontent">
<div class="center"><img src="appekg_8c__incl.png" border="0" usemap="#appekg_8c" alt=""/></div>
<map name="appekg_8c" id="appekg_8c">
<area shape="rect" title="AppEKG Implementation." alt="" coords="639,5,720,32"/>
<area shape="rect" title=" " alt="" coords="5,80,92,107"/>
<area shape="rect" title=" " alt="" coords="116,80,200,107"/>
<area shape="rect" title=" " alt="" coords="631,155,698,181"/>
<area shape="rect" title=" " alt="" coords="276,80,347,107"/>
<area shape="rect" title=" " alt="" coords="371,80,441,107"/>
<area shape="rect" title=" " alt="" coords="466,80,551,107"/>
<area shape="rect" title=" " alt="" coords="575,80,666,107"/>
<area shape="rect" title=" " alt="" coords="690,80,786,107"/>
<area shape="rect" title=" " alt="" coords="810,80,927,107"/>
<area shape="rect" title=" " alt="" coords="951,80,1026,107"/>
<area shape="rect" href="appekg_8h.html" title="External API Definition." alt="" coords="1050,80,1133,107"/>
<area shape="rect" href="csvoutput_8c.html" title="CSV Output Implementation." alt="" coords="1157,80,1255,107"/>
<area shape="rect" href="ldmsoutput_8c.html" title="LDMS Streams Output Implementation." alt="" coords="1279,80,1386,107"/>
<area shape="rect" href="sqliteoutput_8c.html" title="SQLite3 Output Implementation." alt="" coords="1411,80,1521,107"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMetric.html">Metric</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a69d64c66bdceb41c4c851becd09c4319"><td class="memItemLeft" align="right" valign="top"><a id="a69d64c66bdceb41c4c851becd09c4319"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>EKG_EXTERN</b></td></tr>
<tr class="separator:a69d64c66bdceb41c4c851becd09c4319"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb0a0d0379e8f0c202c87ececa22b879"><td class="memItemLeft" align="right" valign="top"><a id="afb0a0d0379e8f0c202c87ececa22b879"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MAX_JSON_STRLEN</b>&#160;&#160;&#160;2048</td></tr>
<tr class="separator:afb0a0d0379e8f0c202c87ececa22b879"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02933586e7ad3ff25d7c8d08b6816549"><td class="memItemLeft" align="right" valign="top"><a id="a02933586e7ad3ff25d7c8d08b6816549"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>FILENAME_PREFIX</b>&#160;&#160;&#160;&quot;appekg&quot;</td></tr>
<tr class="separator:a02933586e7ad3ff25d7c8d08b6816549"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ab5a77b8cf2b98f7d6c1b48bb421f69"><td class="memItemLeft" align="right" valign="top"><a id="a9ab5a77b8cf2b98f7d6c1b48bb421f69"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>THREAD_ID</b>&#160;&#160;&#160;(((unsigned int)pthread_self()+1) % EKG_MAX_THREADS)</td></tr>
<tr class="separator:a9ab5a77b8cf2b98f7d6c1b48bb421f69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae695814c1383ca0548200cde215adc0a"><td class="memItemLeft" align="right" valign="top"><a id="ae695814c1383ca0548200cde215adc0a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>THREAD_ID_FULL</b>&#160;&#160;&#160;((unsigned int)pthread_self()+1)</td></tr>
<tr class="separator:ae695814c1383ca0548200cde215adc0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad33ccc53237ff4c4c16465f06cb15e61"><td class="memItemLeft" align="right" valign="top"><a id="ad33ccc53237ff4c4c16465f06cb15e61"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>THREAD_ID_FUNC</b>&#160;&#160;&#160;pthread_self</td></tr>
<tr class="separator:ad33ccc53237ff4c4c16465f06cb15e61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2de8b9e54c34f216d739c491dbe4e68f"><td class="memItemLeft" align="right" valign="top"><a id="a2de8b9e54c34f216d739c491dbe4e68f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MAX_BASE_METRICS</b>&#160;&#160;&#160;10</td></tr>
<tr class="separator:a2de8b9e54c34f216d739c491dbe4e68f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a06fc87d81c62e9abb8790b6e5713c55b"><td class="memItemLeft" align="right" valign="top"><a id="a06fc87d81c62e9abb8790b6e5713c55b"></a>enum &#160;</td><td class="memItemRight" valign="bottom">{ <b>APPEKG_STAT_OK</b> = 0, 
<b>APPEKG_STAT_ERROR</b>, 
<b>APPEKG_STAT_DISABLED</b>
 }</td></tr>
<tr class="separator:a06fc87d81c62e9abb8790b6e5713c55b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf764cbdea00d65edcd07bb9953ad2b7"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <b>DO_NO_OUTPUT</b> = 0, 
<b>DO_CSV_FILES</b>, 
<b>DO_UKN_OUTPUT</b>
 }</td></tr>
<tr class="separator:adf764cbdea00d65edcd07bb9953ad2b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a26a5558c6a8aa5abfeda2533a7e62ae9"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appekg_8c.html#a26a5558c6a8aa5abfeda2533a7e62ae9">performSampling</a> (void *arg)</td></tr>
<tr class="memdesc:a26a5558c6a8aa5abfeda2533a7e62ae9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main routine for data-collecting thread.  <a href="appekg_8c.html#a26a5558c6a8aa5abfeda2533a7e62ae9">More...</a><br /></td></tr>
<tr class="separator:a26a5558c6a8aa5abfeda2533a7e62ae9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4e3c42aa2e8d4eadfd4d49db3d7e8fc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appekg_8c.html#ab4e3c42aa2e8d4eadfd4d49db3d7e8fc">ekgInitialize</a> (unsigned int pNumHeartbeats, float pSamplingInterval, unsigned int appid, unsigned int jobid, unsigned int rank, unsigned int silent)</td></tr>
<tr class="memdesc:ab4e3c42aa2e8d4eadfd4d49db3d7e8fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize AppEKG.  <a href="appekg_8c.html#ab4e3c42aa2e8d4eadfd4d49db3d7e8fc">More...</a><br /></td></tr>
<tr class="separator:ab4e3c42aa2e8d4eadfd4d49db3d7e8fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6644f1d5728f6987a3f919f5ccf41506"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appekg_8c.html#a6644f1d5728f6987a3f919f5ccf41506">finalizeHeartbeatData</a> (void *arg)</td></tr>
<tr class="memdesc:a6644f1d5728f6987a3f919f5ccf41506"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finish AppEKG data collection.  <a href="appekg_8c.html#a6644f1d5728f6987a3f919f5ccf41506">More...</a><br /></td></tr>
<tr class="separator:a6644f1d5728f6987a3f919f5ccf41506"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d7e143b565e961e37aca9c9b697aa3a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appekg_8c.html#a3d7e143b565e961e37aca9c9b697aa3a">ekgFinalize</a> (void)</td></tr>
<tr class="memdesc:a3d7e143b565e961e37aca9c9b697aa3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finalize AppEKG.  <a href="appekg_8c.html#a3d7e143b565e961e37aca9c9b697aa3a">More...</a><br /></td></tr>
<tr class="separator:a3d7e143b565e961e37aca9c9b697aa3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88245389dffcd6a94e6d82ae7ec2677a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appekg_8c.html#a88245389dffcd6a94e6d82ae7ec2677a">ekgDisable</a> (void)</td></tr>
<tr class="memdesc:a88245389dffcd6a94e6d82ae7ec2677a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop AppEKG data collection temporarily (TODO)  <a href="appekg_8c.html#a88245389dffcd6a94e6d82ae7ec2677a">More...</a><br /></td></tr>
<tr class="separator:a88245389dffcd6a94e6d82ae7ec2677a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ead583445b35a96efef8f1754e06bba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appekg_8c.html#a3ead583445b35a96efef8f1754e06bba">ekgEnable</a> (void)</td></tr>
<tr class="memdesc:a3ead583445b35a96efef8f1754e06bba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start or restart AppEKG data collection (TODO)  <a href="appekg_8c.html#a3ead583445b35a96efef8f1754e06bba">More...</a><br /></td></tr>
<tr class="separator:a3ead583445b35a96efef8f1754e06bba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0996259dfab4987331a1ebda2b4b2ecc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appekg_8c.html#a0996259dfab4987331a1ebda2b4b2ecc">ekgBeginHeartbeat</a> (unsigned int hbId)</td></tr>
<tr class="memdesc:a0996259dfab4987331a1ebda2b4b2ecc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Begin a heartbeat.  <a href="appekg_8c.html#a0996259dfab4987331a1ebda2b4b2ecc">More...</a><br /></td></tr>
<tr class="separator:a0996259dfab4987331a1ebda2b4b2ecc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cbee6d862fb7359d3b99732c34528b7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appekg_8c.html#a0cbee6d862fb7359d3b99732c34528b7">ekgEndHeartbeat</a> (unsigned int hbId)</td></tr>
<tr class="memdesc:a0cbee6d862fb7359d3b99732c34528b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">End a heartbeat.  <a href="appekg_8c.html#a0cbee6d862fb7359d3b99732c34528b7">More...</a><br /></td></tr>
<tr class="separator:a0cbee6d862fb7359d3b99732c34528b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d7e05cc9e5a5f908bd10039b6f14674"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appekg_8c.html#a4d7e05cc9e5a5f908bd10039b6f14674">ekgNameHeartbeat</a> (unsigned int id, char *name)</td></tr>
<tr class="memdesc:a4d7e05cc9e5a5f908bd10039b6f14674"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provide a name for a heartbeat.  <a href="appekg_8c.html#a4d7e05cc9e5a5f908bd10039b6f14674">More...</a><br /></td></tr>
<tr class="separator:a4d7e05cc9e5a5f908bd10039b6f14674"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac81b5153ffd968137961d053b270d5b3"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appekg_8c.html#ac81b5153ffd968137961d053b270d5b3">ekgIdOfHeartbeat</a> (char *name)</td></tr>
<tr class="memdesc:ac81b5153ffd968137961d053b270d5b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find ID of heartbeat from name.  <a href="appekg_8c.html#ac81b5153ffd968137961d053b270d5b3">More...</a><br /></td></tr>
<tr class="separator:ac81b5153ffd968137961d053b270d5b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a331e073749d454bd660d5a4f2b4c0f3d"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appekg_8c.html#a331e073749d454bd660d5a4f2b4c0f3d">ekgNameOfHeartbeat</a> (unsigned int id)</td></tr>
<tr class="memdesc:a331e073749d454bd660d5a4f2b4c0f3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find name of heartbeat from ID.  <a href="appekg_8c.html#a331e073749d454bd660d5a4f2b4c0f3d">More...</a><br /></td></tr>
<tr class="separator:a331e073749d454bd660d5a4f2b4c0f3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affb4dacbd5f6376b9b830646eaca4b9c"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appekg_8c.html#affb4dacbd5f6376b9b830646eaca4b9c">metadataToJSON</a> ()</td></tr>
<tr class="memdesc:affb4dacbd5f6376b9b830646eaca4b9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write Metadata out in JSON format.  <a href="appekg_8c.html#affb4dacbd5f6376b9b830646eaca4b9c">More...</a><br /></td></tr>
<tr class="separator:affb4dacbd5f6376b9b830646eaca4b9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb929e87f47924c1ad2d2fb3f0f3b48f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appekg_8c.html#abb929e87f47924c1ad2d2fb3f0f3b48f">outputHeartbeatData</a> ()</td></tr>
<tr class="memdesc:abb929e87f47924c1ad2d2fb3f0f3b48f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Output hearbeat data to CSV file or LDMS stream.  <a href="appekg_8c.html#abb929e87f47924c1ad2d2fb3f0f3b48f">More...</a><br /></td></tr>
<tr class="separator:abb929e87f47924c1ad2d2fb3f0f3b48f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:acd0af51344ca94238c14eaf726e39527"><td class="memItemLeft" align="right" valign="top"><a id="acd0af51344ca94238c14eaf726e39527"></a>
static enum  { ... } &#160;</td><td class="memItemRight" valign="bottom"><b>appekgStatus</b> = APPEKG_STAT_DISABLED</td></tr>
<tr class="separator:acd0af51344ca94238c14eaf726e39527"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e4656df10f0aae03cce5aa0a33e84dc"><td class="memItemLeft" align="right" valign="top">static enum  { ... } &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="appekg_8c.html#a6e4656df10f0aae03cce5aa0a33e84dc">ekgOutputMode</a> = DO_CSV_FILES</td></tr>
<tr class="separator:a6e4656df10f0aae03cce5aa0a33e84dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac94e617b9973a01526305ebb9c3ca254"><td class="memItemLeft" align="right" valign="top"><a id="ac94e617b9973a01526305ebb9c3ca254"></a>
static struct <a class="el" href="structMetric.html">Metric</a>&#160;</td><td class="memItemRight" valign="bottom"><b>baseMetrics</b> [MAX_BASE_METRICS]</td></tr>
<tr class="separator:ac94e617b9973a01526305ebb9c3ca254"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cc3e5032f14f8377d8d2b7e3d74caed"><td class="memItemLeft" align="right" valign="top"><a id="a3cc3e5032f14f8377d8d2b7e3d74caed"></a>
static struct <a class="el" href="structMetric.html">Metric</a>&#160;</td><td class="memItemRight" valign="bottom"><b>threadMetrics</b> [EKG_MAX_THREADS][EKG_MAX_HEARTBEATS *2+2]</td></tr>
<tr class="separator:a3cc3e5032f14f8377d8d2b7e3d74caed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c1f5235393d26d2bc524a7d28cb11d5"><td class="memItemLeft" align="right" valign="top"><a id="a6c1f5235393d26d2bc524a7d28cb11d5"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>baseCount</b> = 0</td></tr>
<tr class="separator:a6c1f5235393d26d2bc524a7d28cb11d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a954469ac1b2b90ba4fcfd349fc2da2cc"><td class="memItemLeft" align="right" valign="top"><a id="a954469ac1b2b90ba4fcfd349fc2da2cc"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>metricCount</b> = 0</td></tr>
<tr class="separator:a954469ac1b2b90ba4fcfd349fc2da2cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27300a578803559de2a6ad9d792c64a6"><td class="memItemLeft" align="right" valign="top"><a id="a27300a578803559de2a6ad9d792c64a6"></a>
static unsigned long&#160;</td><td class="memItemRight" valign="bottom"><b>beginHBTime</b> [EKG_MAX_THREADS][EKG_MAX_HEARTBEATS] = {0}</td></tr>
<tr class="separator:a27300a578803559de2a6ad9d792c64a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8968415e073954b5983bd53a8b7988cb"><td class="memItemLeft" align="right" valign="top"><a id="a8968415e073954b5983bd53a8b7988cb"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>numHeartbeats</b> = 0</td></tr>
<tr class="separator:a8968415e073954b5983bd53a8b7988cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4504e4b259c2c2eebb6faf43ab420285"><td class="memItemLeft" align="right" valign="top"><a id="a4504e4b259c2c2eebb6faf43ab420285"></a>
static char **&#160;</td><td class="memItemRight" valign="bottom"><b>hbNames</b></td></tr>
<tr class="separator:a4504e4b259c2c2eebb6faf43ab420285"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a5ba243b3ab4b6093afb178de0f9509"><td class="memItemLeft" align="right" valign="top"><a id="a3a5ba243b3ab4b6093afb178de0f9509"></a>
static pthread_t&#160;</td><td class="memItemRight" valign="bottom"><b>tid</b> = 0</td></tr>
<tr class="separator:a3a5ba243b3ab4b6093afb178de0f9509"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae40136be60c7f8ddd86428b583bd8138"><td class="memItemLeft" align="right" valign="top"><a id="ae40136be60c7f8ddd86428b583bd8138"></a>
static unsigned long&#160;</td><td class="memItemRight" valign="bottom"><b>samplingInterval</b> = 1</td></tr>
<tr class="separator:ae40136be60c7f8ddd86428b583bd8138"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeeaa108f851f52660e190ccd853380ce"><td class="memItemLeft" align="right" valign="top"><a id="aeeaa108f851f52660e190ccd853380ce"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>doSampling</b> = 0</td></tr>
<tr class="separator:aeeaa108f851f52660e190ccd853380ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0e649869be812680ab26fee06b1ad1a"><td class="memItemLeft" align="right" valign="top"><a id="aa0e649869be812680ab26fee06b1ad1a"></a>
static FILE *&#160;</td><td class="memItemRight" valign="bottom"><b>csvFH</b> = 0</td></tr>
<tr class="separator:aa0e649869be812680ab26fee06b1ad1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79781b39d6a9a2ff6dac4b273dd3ff1f"><td class="memItemLeft" align="right" valign="top"><a id="a79781b39d6a9a2ff6dac4b273dd3ff1f"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>allowStderr</b> = 0</td></tr>
<tr class="separator:a79781b39d6a9a2ff6dac4b273dd3ff1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c42311c150a51330edd6b2f2a8cf000"><td class="memItemLeft" align="right" valign="top"><a id="a6c42311c150a51330edd6b2f2a8cf000"></a>
static pthread_mutex_t&#160;</td><td class="memItemRight" valign="bottom"><b>hblock</b></td></tr>
<tr class="separator:a6c42311c150a51330edd6b2f2a8cf000"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77bd8becf99e3a5ff3afeb981da2a8d1"><td class="memItemLeft" align="right" valign="top"><a id="a77bd8becf99e3a5ff3afeb981da2a8d1"></a>
static struct timespec&#160;</td><td class="memItemRight" valign="bottom"><b>programStartTime</b></td></tr>
<tr class="separator:a77bd8becf99e3a5ff3afeb981da2a8d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65bbd235fbf15748f5c9dd84bba2c84a"><td class="memItemLeft" align="right" valign="top"><a id="a65bbd235fbf15748f5c9dd84bba2c84a"></a>
static unsigned int&#160;</td><td class="memItemRight" valign="bottom"><b>applicationID</b></td></tr>
<tr class="separator:a65bbd235fbf15748f5c9dd84bba2c84a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b2980872f93e7ccc7c8e4f77325bb3b"><td class="memItemLeft" align="right" valign="top"><a id="a4b2980872f93e7ccc7c8e4f77325bb3b"></a>
static unsigned int&#160;</td><td class="memItemRight" valign="bottom"><b>jobID</b></td></tr>
<tr class="separator:a4b2980872f93e7ccc7c8e4f77325bb3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1441790fef77230e1e0dedfa99a862e8"><td class="memItemLeft" align="right" valign="top"><a id="a1441790fef77230e1e0dedfa99a862e8"></a>
static char&#160;</td><td class="memItemRight" valign="bottom"><b>jsonFilename</b> [1024]</td></tr>
<tr class="separator:a1441790fef77230e1e0dedfa99a862e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3469ddc4630c30ca67c5d03e75c5e8e"><td class="memItemLeft" align="right" valign="top"><a id="ae3469ddc4630c30ca67c5d03e75c5e8e"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>numProcs</b> = 1</td></tr>
<tr class="separator:ae3469ddc4630c30ca67c5d03e75c5e8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa253071e8bc5ba6c124e70c2aa373017"><td class="memItemLeft" align="right" valign="top"><a id="aa253071e8bc5ba6c124e70c2aa373017"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>numNodes</b> = 1</td></tr>
<tr class="separator:aa253071e8bc5ba6c124e70c2aa373017"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abea63f3849eac19ddbb789da6978cb60"><td class="memItemLeft" align="right" valign="top"><a id="abea63f3849eac19ddbb789da6978cb60"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>userID</b></td></tr>
<tr class="separator:abea63f3849eac19ddbb789da6978cb60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8bf0808c2c599b8130c2c1cf573c4ef"><td class="memItemLeft" align="right" valign="top"><a id="af8bf0808c2c599b8130c2c1cf573c4ef"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>rankID</b></td></tr>
<tr class="separator:af8bf0808c2c599b8130c2c1cf573c4ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2253df22e702f6bc02a8b7d839aec819"><td class="memItemLeft" align="right" valign="top"><a id="a2253df22e702f6bc02a8b7d839aec819"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>nodeID</b></td></tr>
<tr class="separator:a2253df22e702f6bc02a8b7d839aec819"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>AppEKG Implementation. </p>
<p>This current implementation supports two modes: storing data into CSV files or using LDMS Streams to collect data. Working to add SQLite3 support.</p>
<p>Environment variables &ndash; see <a class="el" href="appekg_8h.html" title="External API Definition.">appekg.h</a> header comment</p>
<p>Threading: basic idea: hash thread ID into a small range, use this as index into array of thread heartbeat data. If hash collides, ignore the 2nd+ threads and don't collect data on them. </p>
</div><h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="adf764cbdea00d65edcd07bb9953ad2b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf764cbdea00d65edcd07bb9953ad2b7">&#9670;&nbsp;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>status of APPEKG </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a0996259dfab4987331a1ebda2b4b2ecc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0996259dfab4987331a1ebda2b4b2ecc">&#9670;&nbsp;</a></span>ekgBeginHeartbeat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ekgBeginHeartbeat </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>hbId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Begin a heartbeat. </p>
<p>Creates a timestamp to begin this heartbeat; although it does not do any locking, it should be thread safe because each thread has its own data, and thread hash collisions are handled before setting data.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>is the heartbeat ID </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a88245389dffcd6a94e6d82ae7ec2677a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88245389dffcd6a94e6d82ae7ec2677a">&#9670;&nbsp;</a></span>ekgDisable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ekgDisable </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop AppEKG data collection temporarily (TODO) </p>
<p>Stop AppEKG data collection temporarily. </p>

</div>
</div>
<a id="a3ead583445b35a96efef8f1754e06bba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ead583445b35a96efef8f1754e06bba">&#9670;&nbsp;</a></span>ekgEnable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ekgEnable </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start or restart AppEKG data collection (TODO) </p>
<p>Start or restart AppEKG data collection. </p>

</div>
</div>
<a id="a0cbee6d862fb7359d3b99732c34528b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0cbee6d862fb7359d3b99732c34528b7">&#9670;&nbsp;</a></span>ekgEndHeartbeat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ekgEndHeartbeat </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>hbId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>End a heartbeat. </p>
<p>This function timestamps the end of the current heartbeat, and then updates the calculation of the count and durations of the occurrences of this heartbeat. TODO: make this simpler!</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>is the heartbeat ID </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3d7e143b565e961e37aca9c9b697aa3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d7e143b565e961e37aca9c9b697aa3a">&#9670;&nbsp;</a></span>ekgFinalize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ekgFinalize </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finalize AppEKG. </p>
<p>Finish AppEKG data collection, permanently.</p>
<dl class="section return"><dt>Returns</dt><dd>0 on success. negative value is returned on failure. </dd></dl>

</div>
</div>
<a id="ac81b5153ffd968137961d053b270d5b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac81b5153ffd968137961d053b270d5b3">&#9670;&nbsp;</a></span>ekgIdOfHeartbeat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int ekgIdOfHeartbeat </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find ID of heartbeat from name. </p>
<p>Find ID of the given named heartbeat</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>is the string name </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ID value on success, 0 on failure </dd></dl>

</div>
</div>
<a id="ab4e3c42aa2e8d4eadfd4d49db3d7e8fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4e3c42aa2e8d4eadfd4d49db3d7e8fc">&#9670;&nbsp;</a></span>ekgInitialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ekgInitialize </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>pNumHeartbeats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>pSamplingInterval</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>appid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>jobid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>rank</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>silent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize AppEKG. </p>
<p>Initialize AppEKG for heartbeat collection.</p>
<p>All AppEKG initialization: data structures, job/run data, output files, sampling thread startup, etc.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">appekgEnable</td><td>enable data sampling 0-disable 1-enable. </td></tr>
    <tr><td class="paramname">appid</td><td>is a unique identifying number for this application </td></tr>
    <tr><td class="paramname">jobid</td><td>is the job id # (0 means look at PBS_JOBID env var) </td></tr>
    <tr><td class="paramname">rank</td><td>is the MPI (or other) process rank designation </td></tr>
    <tr><td class="paramname">silent</td><td>is nonzero if want no stderr </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success. -1 is returned on failure. </dd></dl>

</div>
</div>
<a id="a4d7e05cc9e5a5f908bd10039b6f14674"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d7e05cc9e5a5f908bd10039b6f14674">&#9670;&nbsp;</a></span>ekgNameHeartbeat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ekgNameHeartbeat </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Provide a name for a heartbeat. </p>
<p>Give AppEKG a name for a heartbeat; AppEKG will store its own copy.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>is the heartbeat ID </td></tr>
    <tr><td class="paramname">name</td><td>is the string name </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure </dd></dl>

</div>
</div>
<a id="a331e073749d454bd660d5a4f2b4c0f3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a331e073749d454bd660d5a4f2b4c0f3d">&#9670;&nbsp;</a></span>ekgNameOfHeartbeat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* ekgNameOfHeartbeat </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find name of heartbeat from ID. </p>
<p>Ask for stored name of heartbeat; returns NULL if none, ptr to new copy of string if found.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>is the heartbeat ID </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>new allocated copy of name on success, 0 on failure </dd></dl>

</div>
</div>
<a id="a6644f1d5728f6987a3f919f5ccf41506"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6644f1d5728f6987a3f919f5ccf41506">&#9670;&nbsp;</a></span>finalizeHeartbeatData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void finalizeHeartbeatData </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Finish AppEKG data collection. </p>
<p>This writes one last datapoint out (perhaps it should not?) and closes the output mechanism.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arg</td><td>is not used (but required by pthreads) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="affb4dacbd5f6376b9b830646eaca4b9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affb4dacbd5f6376b9b830646eaca4b9c">&#9670;&nbsp;</a></span>metadataToJSON()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* metadataToJSON </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write Metadata out in JSON format. </p>
<p>TODO: add more fields, possibly number of active threads, sampling interval, more? Get some MPI env variables, number of processes, etc. page with environment variables: <a href="https://hpcc.umd.edu/hpcc/help/slurmenv.html">https://hpcc.umd.edu/hpcc/help/slurmenv.html</a> number of nodes: SLURM_JOB_NUM_NODES, PBS_NUM_NODES number of procs: SLURM_NTASKS, PBS_NP end time: ?? need another function to add to JSON data </p>

</div>
</div>
<a id="abb929e87f47924c1ad2d2fb3f0f3b48f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb929e87f47924c1ad2d2fb3f0f3b48f">&#9670;&nbsp;</a></span>outputHeartbeatData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void outputHeartbeatData </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Output hearbeat data to CSV file or LDMS stream. </p>
<p>This routine writes out a sampled datapoint; it was recently refactored to not directly include code for each output data format, and needs more work to re-include LDMS streams, and other data sinks. TODO: Should allow both (and more) to be compiled in, runtime selected </p>

</div>
</div>
<a id="a26a5558c6a8aa5abfeda2533a7e62ae9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26a5558c6a8aa5abfeda2533a7e62ae9">&#9670;&nbsp;</a></span>performSampling()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void * performSampling </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Main routine for data-collecting thread. </p>
<p>This routine is invoked as the beginning of a pthread-created thread, and runs for the duration of the application. It samples the collected metric data at the desired sampling rate, and invokes the output function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arg</td><td>is not used </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>always returns 0 </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a6e4656df10f0aae03cce5aa0a33e84dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e4656df10f0aae03cce5aa0a33e84dc">&#9670;&nbsp;</a></span>ekgOutputMode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum { ... }  ekgOutputMode</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>status of APPEKG </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Oct 8 2025 11:03:48 for AppEKG by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
